import{r as y,u as w,S as v,I as h,b as x,w as o,d as e,v as V,K as $,W as S,e as d,U as k,V as P,L as p,f as l,M as f,J as U,P as q,O as C,s as _,ak as j,al as B,am as H,H as I}from"./index-BPmJ8zEA.js";const L={class:"w-full flex justify-end"},M={class:"w-full text-[18px] text-center mt-2 mb-2 flex flex-col items-center"},N={class:"font-bold"},J={__name:"SignUp",setup(O){const t=y(!1),{t:a,locale:A}=w(),c=v(),r=h({login:"",pass:"",remember:!0}),g=H(),b=async()=>{t.value=!0;const{login:i,pass:n,remember:m}=r;try{const s=await fetch(`${window.url}/sign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:i,password:n})});if(s.status==499)return t.value=!1,c.warning(a("Foydalanuvchi allaqachon royxatdan otgan : ")+" "+i);if(s.status==401){const u=await s.json();return console.log(),c.error(a("Login or password is incorrect")),t.value=!1}s.status==200&&(t.value=!1,c.success(a("Ro'yxatdan muvaqiyatli o'tildi")),g.push("/login")),console.log(s.status)}catch(s){return console.error("Error:",s),t.value=!1}};return(i,n)=>{const m=k("lang");return I(),x(B,{class:"select-none"},{default:o(()=>[e(j,{bg:"purplePink"},{default:o(({cardClass:s})=>[e(V,{class:S(s),"is-form":"",onSubmit:$(b,["prevent"])},{footer:o(()=>[e(C,null,{default:o(()=>[e(_,{disabled:t.value,type:"submit",color:"info",label:l(a)("Sign in")},null,8,["disabled","label"]),e(_,{to:"/login",color:"info",outline:"",label:l(a)("back")},null,8,["label"])]),_:1})]),default:o(()=>[d("div",L,[e(m)]),d("div",M,[d("span",N,P(i.$t("Hemis_signUp_Key"))+": ",1)]),e(p,{label:"Hemis_ID",help:l(a)("Please enter your login")},{default:o(()=>[e(f,{modelValue:r.login,"onUpdate:modelValue":n[0]||(n[0]=u=>r.login=u),icon:l(U),name:"login",type:"number",required:"true",autocomplete:"username"},null,8,["modelValue","icon"])]),_:1},8,["help"]),e(p,{label:l(a)("Password"),help:l(a)("Please enter your password")},{default:o(()=>[e(f,{modelValue:r.pass,"onUpdate:modelValue":n[1]||(n[1]=u=>r.pass=u),icon:l(q),type:"password",name:"password",required:"true",autocomplete:"current-password"},null,8,["modelValue","icon"])]),_:1},8,["label","help"])]),_:2},1032,["class"])]),_:1})]),_:1})}}};export{J as default};
